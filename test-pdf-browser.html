<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.1/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
    <h1>PDF Generation Test</h1>
    <button onclick="testPDF()">Generate Test PDF</button>
    <button onclick="testTable()">Generate Table PDF</button>
    
    <div id="output"></div>

    <script>
        function log(message) {
            console.log(message);
            document.getElementById('output').innerHTML += '<p>' + message + '</p>';
        }

        function testPDF() {
            try {
                log('üß™ Testing basic PDF generation...');
                
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('landscape', 'mm', 'a4');
                
                log('‚úÖ PDF instance created');
                
                pdf.text('Hello World from Browser!', 10, 10);
                log('‚úÖ Text added');
                
                pdf.save('browser-test.pdf');
                log('‚úÖ PDF saved successfully');
                
            } catch (error) {
                log('‚ùå Error: ' + error.message);
                console.error(error);
            }
        }

        function testTable() {
            try {
                log('üß™ Testing PDF table generation...');
                
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('landscape', 'mm', 'a4');
                
                log('‚úÖ PDF instance created');
                
                // Check if autoTable is available
                if (typeof pdf.autoTable === 'function') {
                    log('‚úÖ autoTable method available');
                    
                    const headers = ['Name', 'Email', 'Status'];
                    const data = [
                        ['John Doe', 'john@example.com', 'Active'],
                        ['Jane Smith', 'jane@example.com', 'Pending']
                    ];
                    
                    pdf.autoTable({
                        head: [headers],
                        body: data,
                        startY: 20,
                        styles: {
                            fontSize: 10,
                        },
                        headStyles: {
                            fillColor: [41, 128, 185],
                            textColor: [255, 255, 255],
                        }
                    });
                    
                    log('‚úÖ Table added successfully');
                    pdf.save('browser-table.pdf');
                    log('‚úÖ Table PDF saved successfully');
                    
                } else {
                    log('‚ùå autoTable method not available');
                    log('Available methods: ' + Object.getOwnPropertyNames(pdf).slice(0, 10).join(', '));
                }
                
            } catch (error) {
                log('‚ùå Error: ' + error.message);
                console.error(error);
            }
        }

        // Test library loading
        window.onload = function() {
            log('üìã Testing library loading...');
            
            if (window.jspdf) {
                log('‚úÖ jsPDF library loaded');
                log('jsPDF version: ' + (window.jspdf.version || 'unknown'));
            } else {
                log('‚ùå jsPDF library not loaded');
            }
            
            if (window.jspdf && window.jspdf.jsPDF) {
                log('‚úÖ jsPDF constructor available');
            } else {
                log('‚ùå jsPDF constructor not available');
            }
        };
    </script>
</body>
</html> 